{"ast":null,"code":"import _defineProperty from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\src\\\\app\\\\views\\\\HealthOrganizationUnit\\\\SelectParentPopup.jsx\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, Paper, Radio, TextField, FormControl, Input, InputLabel, InputAdornment, IconButton } from \"@material-ui/core\";\nimport MaterialTable from \"material-table\";\nimport React, { Component } from \"react\";\nimport Draggable from \"react-draggable\";\nimport NicePagination from \"../Component/Pagination/NicePagination\";\nimport { searchByDto } from \"./HealthOrganizationUnitService\";\nimport { Search } from \"@material-ui/icons\";\n\nfunction PaperComponent(props) {\n  return /*#__PURE__*/React.createElement(Draggable, {\n    handle: \"#draggable-dialog-title\",\n    cancel: '[class*=\"MuiDialogContent-root\"]',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Paper, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }\n  })));\n}\n\nvar SelectParentPopup = /*#__PURE__*/function (_Component) {\n  _inherits(SelectParentPopup, _Component);\n\n  var _super = _createSuper(SelectParentPopup);\n\n  function SelectParentPopup(props) {\n    var _this;\n\n    _classCallCheck(this, SelectParentPopup);\n\n    _this = _super.call(this, props);\n\n    _this.setPage = function (page) {\n      _this.setState({\n        page: page\n      }, function () {\n        this.updatePageData();\n      });\n    };\n\n    _this.setRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value,\n        page: 1\n      }, function () {\n        this.updatePageData();\n      });\n    };\n\n    _this.handleChangePage = function (event, newPage) {\n      _this.setPage(newPage);\n    };\n\n    _this.updatePageData = function () {\n      var searchObject = {};\n\n      _this.setState({\n        loading: true\n      });\n\n      searchObject.pageIndex = _this.state.page;\n      searchObject.pageSize = _this.state.rowsPerPage;\n      searchByDto(searchObject).then(function (_ref) {\n        var data = _ref.data;\n\n        _this.setState({\n          itemList: _toConsumableArray(data.content),\n          totalElements: data.totalElements,\n          totalPage: data.totalPages,\n          loading: false\n        });\n      });\n    };\n\n    _this.handleClick = function (event, item) {\n      if (item.id != null) {\n        _this.setState({\n          selectedValue: item.id,\n          selectedItem: item\n        });\n      } else {\n        _this.setState({\n          selectedValue: null,\n          selectedItem: null\n        });\n      }\n    };\n\n    _this.handleSearchInputChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      if (event.target.value === \"\") {\n        _this.setState({\n          loading: true\n        });\n\n        _this.updatePageData();\n      }\n    };\n\n    _this.handleKeyDownEnterSearch = function (e) {\n      if (e.key === \"Enter\") {\n        _this.search();\n      }\n    };\n\n    _this.onClickRow = function (selectedRow) {\n      document.querySelector(\"#radio\".concat(selectedRow.id)).click();\n    };\n\n    _this.state = {\n      rowsPerPage: 5,\n      page: 1,\n      totalElements: 0,\n      totalPage: 0,\n      itemList: [],\n      selectedItem: {},\n      text: \"\",\n      item: null,\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(SelectParentPopup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updatePageData();\n      var selectedItem = this.props.selectedItem;\n      this.setState({\n        selectedValue: selectedItem.id\n      });\n    }\n  }, {\n    key: \"search\",\n    value: function search() {\n      var _this2 = this;\n\n      var searchObject = {};\n      this.setState({\n        page: 1,\n        loading: true\n      });\n      searchObject.name = this.state.text;\n      searchObject.pageIndex = this.state.page;\n      searchObject.pageSize = this.state.rowsPerPage;\n      searchByDto(searchObject).then(function (_ref2) {\n        var data = _ref2.data;\n\n        _this2.setState({\n          itemList: data.content,\n          totalElements: data.totalElements,\n          totalPage: data.totalPages,\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          t = _this$props.t,\n          handleClose = _this$props.handleClose,\n          handleSelect = _this$props.handleSelect,\n          open = _this$props.open,\n          selectedItem = _this$props.selectedItem,\n          itemId = _this$props.itemId;\n      var _this$state = this.state,\n          text = _this$state.text,\n          itemList = _this$state.itemList,\n          page = _this$state.page,\n          rowsPerPage = _this$state.rowsPerPage,\n          totalElements = _this$state.totalElements,\n          totalPage = _this$state.totalPage,\n          loading = _this$state.loading;\n      var columns = [{\n        title: t(\"general.select\"),\n        field: \"custom\",\n        align: \"left\",\n        render: function render(rowData) {\n          return /*#__PURE__*/React.createElement(Radio, {\n            id: \"radio\".concat(rowData.id),\n            name: \"radSelected\",\n            value: rowData.id,\n            checked: _this3.state.selectedValue === rowData.id,\n            onClick: function onClick(event) {\n              return _this3.handleClick(event, rowData);\n            },\n            disabled: rowData.id === itemId,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 6\n            }\n          });\n        }\n      }, {\n        title: t(\"administrativeUnit.code\"),\n        field: \"code\",\n        align: \"left\",\n        width: \"150\"\n      }, {\n        title: t(\"administrativeUnit.name\"),\n        field: \"name\",\n        width: \"150\"\n      }];\n      return /*#__PURE__*/React.createElement(Dialog, {\n        onClose: handleClose,\n        open: open,\n        PaperComponent: PaperComponent,\n        maxWidth: \"md\",\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        style: {\n          cursor: \"move\"\n        },\n        id: \"draggable-dialog-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"mb-20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 6\n        }\n      }, t(\"component.product.title\"))), /*#__PURE__*/React.createElement(DialogContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 3,\n        className: \"ml-auto mb-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        size: \"small\",\n        className: \"w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(InputLabel, {\n        htmlFor: \"standard-adornment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 8\n        }\n      }, t(\"EnterSearch\")), /*#__PURE__*/React.createElement(Input, {\n        id: \"standard-basic\",\n        type: \"text\",\n        name: \"text\",\n        value: text,\n        label: t(\"EnterSearch\"),\n        onChange: this.handleSearchInputChange,\n        onKeyDown: this.handleKeyDownEnterSearch,\n        endAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n          position: \"end\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 10\n          }\n        }, /*#__PURE__*/React.createElement(IconButton, {\n          edge: \"end\",\n          onClick: function onClick() {\n            return _this3.search(text);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Search, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 12\n          }\n        }))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 8\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(MaterialTable, {\n        data: itemList,\n        columns: columns,\n        onRowClick: function onRowClick(evt, selectedRow) {\n          return _this3.onClickRow(selectedRow);\n        },\n        parentChildData: function parentChildData(row, rows) {\n          return rows.find(function (a) {\n            var _row$parent;\n\n            return a.id === ((_row$parent = row.parent) === null || _row$parent === void 0 ? void 0 : _row$parent.id);\n          });\n        },\n        isLoading: loading,\n        options: {\n          showEmptyDataSourceMessage: true,\n          toolbar: false,\n          selection: false,\n          actionsColumnIndex: -1,\n          paging: false,\n          search: false,\n          loadingType: \"overlay\",\n          headerStyle: {\n            backgroundColor: \"#2a80c8\",\n            color: \"#fff\",\n            height: \"50px\"\n          },\n          padding: \"dense\"\n        },\n        onSelectionChange: function onSelectionChange(rows) {\n          _this3.data = rows;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(NicePagination, {\n        totalPages: totalPage,\n        handleChangePage: this.handleChangePage,\n        setRowsPerPage: this.setRowsPerPage,\n        page: page,\n        pageSize: rowsPerPage,\n        pageSizeOption: [1, 2, 3, 5, 10, 25],\n        t: t,\n        totalElements: totalElements,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 7\n        }\n      }))), /*#__PURE__*/React.createElement(DialogActions, {\n        className: \"mb-16 mr-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"mr-12 align-bottom\",\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: function onClick() {\n          return handleClose();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 6\n        }\n      }, t(\"general.cancel\")), /*#__PURE__*/React.createElement(Button, {\n        className: \"align-bottom\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return handleSelect(_this3.state.selectedItem);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 6\n        }\n      }, t(\"general.select\"))));\n    }\n  }]);\n\n  return SelectParentPopup;\n}(Component);\n\nexport default SelectParentPopup;","map":{"version":3,"sources":["D:/OceanTech/nimpe/Client-V2/src/app/views/HealthOrganizationUnit/SelectParentPopup.jsx"],"names":["Button","Dialog","DialogActions","DialogContent","DialogTitle","Grid","Paper","Radio","TextField","FormControl","Input","InputLabel","InputAdornment","IconButton","MaterialTable","React","Component","Draggable","NicePagination","searchByDto","Search","PaperComponent","props","SelectParentPopup","setPage","page","setState","updatePageData","setRowsPerPage","event","rowsPerPage","target","value","handleChangePage","newPage","searchObject","loading","pageIndex","state","pageSize","then","data","itemList","content","totalElements","totalPage","totalPages","handleClick","item","id","selectedValue","selectedItem","handleSearchInputChange","name","handleKeyDownEnterSearch","e","key","search","onClickRow","selectedRow","document","querySelector","click","text","t","handleClose","handleSelect","open","itemId","columns","title","field","align","render","rowData","width","cursor","evt","row","rows","find","a","parent","showEmptyDataSourceMessage","toolbar","selection","actionsColumnIndex","paging","loadingType","headerStyle","backgroundColor","color","height","padding"],"mappings":"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","sourcesContent":["import {\r\n\tButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tGrid,\r\n\tPaper,\r\n\tRadio,\r\n\tTextField,\r\n\tFormControl,\r\n\tInput,\r\n\tInputLabel,\r\n\tInputAdornment,\r\n\tIconButton,\r\n} from \"@material-ui/core\";\r\nimport MaterialTable from \"material-table\";\r\nimport React, { Component } from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nimport NicePagination from \"../Component/Pagination/NicePagination\";\r\nimport { searchByDto } from \"./HealthOrganizationUnitService\";\r\nimport { Search } from \"@material-ui/icons\";\r\n\r\nfunction PaperComponent(props) {\r\n\treturn (\r\n\t\t<Draggable\r\n\t\t\thandle=\"#draggable-dialog-title\"\r\n\t\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\r\n\t\t>\r\n\t\t\t<Paper {...props} />\r\n\t\t</Draggable>\r\n\t);\r\n}\r\n\r\nclass SelectParentPopup extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\trowsPerPage: 5,\r\n\t\t\tpage: 1,\r\n\t\t\ttotalElements: 0,\r\n\t\t\ttotalPage: 0,\r\n\t\t\titemList: [],\r\n\t\t\tselectedItem: {},\r\n\t\t\ttext: \"\",\r\n\t\t\titem: null,\r\n\t\t\tloading: true,\r\n\t\t};\r\n\t}\r\n\r\n\tsetPage = page => {\r\n\t\tthis.setState({ page }, function () {\r\n\t\t\tthis.updatePageData();\r\n\t\t});\r\n\t};\r\n\r\n\tsetRowsPerPage = event => {\r\n\t\tthis.setState(\r\n\t\t\t{ rowsPerPage: event.target.value, page: 1 },\r\n\t\t\tfunction () {\r\n\t\t\t\tthis.updatePageData();\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\thandleChangePage = (event, newPage) => {\r\n\t\tthis.setPage(newPage);\r\n\t};\r\n\r\n\tupdatePageData = () => {\r\n\t\tvar searchObject = {};\r\n\t\tthis.setState({ loading: true });\r\n\t\tsearchObject.pageIndex = this.state.page;\r\n\t\tsearchObject.pageSize = this.state.rowsPerPage;\r\n\t\tsearchByDto(searchObject).then(({ data }) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\titemList: [...data.content],\r\n\t\t\t\ttotalElements: data.totalElements,\r\n\t\t\t\ttotalPage: data.totalPages,\r\n\t\t\t\tloading: false,\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updatePageData();\r\n\t\tlet { selectedItem } = this.props;\r\n\t\tthis.setState({ selectedValue: selectedItem.id });\r\n\t}\r\n\r\n\thandleClick = (event, item) => {\r\n\t\tif (item.id != null) {\r\n\t\t\tthis.setState({ selectedValue: item.id, selectedItem: item });\r\n\t\t} else {\r\n\t\t\tthis.setState({ selectedValue: null, selectedItem: null });\r\n\t\t}\r\n\t};\r\n\r\n\thandleSearchInputChange = event => {\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value,\r\n\t\t});\r\n\t\tif (event.target.value === \"\") {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true,\r\n\t\t\t});\r\n\t\t\tthis.updatePageData();\r\n\t\t}\r\n\t};\r\n\r\n\thandleKeyDownEnterSearch = e => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tthis.search();\r\n\t\t}\r\n\t};\r\n\r\n\tsearch() {\r\n\t\tvar searchObject = {};\r\n\t\tthis.setState({ page: 1, loading: true });\r\n\t\tsearchObject.name = this.state.text;\r\n\t\tsearchObject.pageIndex = this.state.page;\r\n\t\tsearchObject.pageSize = this.state.rowsPerPage;\r\n\t\tsearchByDto(searchObject).then(({ data }) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\titemList: data.content,\r\n\t\t\t\ttotalElements: data.totalElements,\r\n\t\t\t\ttotalPage: data.totalPages,\r\n\t\t\t\tloading: false,\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonClickRow = selectedRow => {\r\n\t\tdocument.querySelector(`#radio${selectedRow.id}`).click();\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { t, handleClose, handleSelect, open, selectedItem, itemId } =\r\n\t\t\tthis.props;\r\n\t\tconst {\r\n\t\t\ttext,\r\n\t\t\titemList,\r\n\t\t\tpage,\r\n\t\t\trowsPerPage,\r\n\t\t\ttotalElements,\r\n\t\t\ttotalPage,\r\n\t\t\tloading,\r\n\t\t} = this.state;\r\n\r\n\t\tlet columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: t(\"general.select\"),\r\n\t\t\t\tfield: \"custom\",\r\n\t\t\t\talign: \"left\",\r\n\t\t\t\trender: rowData => (\r\n\t\t\t\t\t<Radio\r\n\t\t\t\t\t\tid={`radio${rowData.id}`}\r\n\t\t\t\t\t\tname=\"radSelected\"\r\n\t\t\t\t\t\tvalue={rowData.id}\r\n\t\t\t\t\t\tchecked={this.state.selectedValue === rowData.id}\r\n\t\t\t\t\t\tonClick={event => this.handleClick(event, rowData)}\r\n\t\t\t\t\t\tdisabled={rowData.id === itemId}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: t(\"administrativeUnit.code\"),\r\n\t\t\t\tfield: \"code\",\r\n\t\t\t\talign: \"left\",\r\n\t\t\t\twidth: \"150\",\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: t(\"administrativeUnit.name\"),\r\n\t\t\t\tfield: \"name\",\r\n\t\t\t\twidth: \"150\",\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\topen={open}\r\n\t\t\t\tPaperComponent={PaperComponent}\r\n\t\t\t\tmaxWidth={\"md\"}\r\n\t\t\t\tfullWidth\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle\r\n\t\t\t\t\tstyle={{ cursor: \"move\" }}\r\n\t\t\t\t\tid=\"draggable-dialog-title\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"mb-20\">\r\n\t\t\t\t\t\t{t(\"component.product.title\")}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Grid item xs={12} sm={3} className=\"ml-auto mb-12\">\r\n\t\t\t\t\t\t<FormControl size=\"small\" className=\"w-100\">\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"standard-adornment\">\r\n\t\t\t\t\t\t\t\t{t(\"EnterSearch\")}\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tid=\"standard-basic\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={text}\r\n\t\t\t\t\t\t\t\tlabel={t(\"EnterSearch\")}\r\n\t\t\t\t\t\t\t\tonChange={this.handleSearchInputChange}\r\n\t\t\t\t\t\t\t\tonKeyDown={this.handleKeyDownEnterSearch}\r\n\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\tedge=\"end\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.search(text)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Search />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\t\tdata={itemList}\r\n\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\tonRowClick={(evt, selectedRow) =>\r\n\t\t\t\t\t\t\t\tthis.onClickRow(selectedRow)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparentChildData={(row, rows) =>\r\n\t\t\t\t\t\t\t\trows.find(a => a.id === row.parent?.id)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tisLoading={loading}\r\n\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\tshowEmptyDataSourceMessage: true,\r\n\t\t\t\t\t\t\t\ttoolbar: false,\r\n\t\t\t\t\t\t\t\tselection: false,\r\n\t\t\t\t\t\t\t\tactionsColumnIndex: -1,\r\n\t\t\t\t\t\t\t\tpaging: false,\r\n\t\t\t\t\t\t\t\tsearch: false,\r\n\t\t\t\t\t\t\t\tloadingType: \"overlay\",\r\n\t\t\t\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: \"#2a80c8\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\t\t\t\t\theight: \"50px\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tpadding: \"dense\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonSelectionChange={rows => {\r\n\t\t\t\t\t\t\t\tthis.data = rows;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<NicePagination\r\n\t\t\t\t\t\t\ttotalPages={totalPage}\r\n\t\t\t\t\t\t\thandleChangePage={this.handleChangePage}\r\n\t\t\t\t\t\t\tsetRowsPerPage={this.setRowsPerPage}\r\n\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t\tpageSize={rowsPerPage}\r\n\t\t\t\t\t\t\tpageSizeOption={[1, 2, 3, 5, 10, 25]}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\ttotalElements={totalElements}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</DialogContent>\r\n\r\n\t\t\t\t<DialogActions className=\"mb-16 mr-16\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mr-12 align-bottom\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tonClick={() => handleClose()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t(\"general.cancel\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"align-bottom\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => handleSelect(this.state.selectedItem)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t(\"general.select\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\nexport default SelectParentPopup;\r\n"]},"metadata":{},"sourceType":"module"}