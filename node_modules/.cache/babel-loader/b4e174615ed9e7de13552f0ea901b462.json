{"ast":null,"code":"import _objectSpread from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\src\\\\app\\\\views\\\\page-layouts\\\\ChangePasswordPopup.jsx\";\nimport { Button, Dialog, DialogActions, Grid, Paper, DialogContent, DialogTitle, FormControl } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport Draggable from \"react-draggable\";\nimport \"react-image-crop/dist/ReactCrop.css\";\nimport { TextValidator, ValidatorForm } from \"react-material-ui-form-validator\";\nimport JwtAuthService from \"../../services/jwtAuthService\";\nimport { changePassword } from \"./UserProfileService\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction PaperComponent(props) {\n  return /*#__PURE__*/React.createElement(Draggable, {\n    handle: \"#draggable-dialog-title\",\n    cancel: '[class*=\"MuiDialogContent-root\"]',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Paper, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 4\n    }\n  })));\n}\n\nvar ChangePasswordPopup = /*#__PURE__*/function (_Component) {\n  _inherits(ChangePasswordPopup, _Component);\n\n  var _super = _createSuper(ChangePasswordPopup);\n\n  function ChangePasswordPopup() {\n    var _this;\n\n    _classCallCheck(this, ChangePasswordPopup);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      oldPassword: \"\",\n      password: \"\",\n      confirmPassword: \"\"\n    };\n\n    _this.handleChangePassword = function () {\n      changePassword(_this.state).then(function () {\n        toast.success(\"Bạn đã đối mật khẩu thành công\");\n        setTimeout(function () {\n          JwtAuthService.logout();\n        }, 2000);\n      }).catch(function () {\n        toast.error(\"Đã có lỗi khi đổi mật khẩu\");\n\n        _this.props.handleClose();\n      });\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    return _this;\n  }\n\n  _createClass(ChangePasswordPopup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      ValidatorForm.addValidationRule(\"isPasswordMatch\", function (value) {\n        if (value !== _this2.state.password) {\n          return false;\n        }\n\n        return true;\n      });\n\n      if (this.props.user) {\n        this.setState(_objectSpread({}, this.props.user));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          t = _this$props.t,\n          handleClose = _this$props.handleClose,\n          open = _this$props.open,\n          user = _this$props.user;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        onClose: handleClose,\n        open: open,\n        PaperProps: {\n          style: {\n            width: 500,\n            maxHeight: 800,\n            alignContent: \"center\" //backgroundColor: 'Blue',\n            //color:'black'\n\n          }\n        },\n        PaperComponent: PaperComponent,\n        maxWidth: \"md\",\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        style: {\n          cursor: \"move\"\n        },\n        id: \"draggable-dialog-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 5\n        }\n      }, t(\"user.changePass\")), /*#__PURE__*/React.createElement(ValidatorForm, {\n        ref: \"form\",\n        onSubmit: function onSubmit() {\n          return _this3.handleChangePassword();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(DialogContent, {\n        dividers: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        md: 12,\n        sm: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        fullWidth: true,\n        margin: \"dense\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        label: /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }\n        }, \"*\"), t(\"user.current_password\")),\n        id: \"password-current\",\n        className: \"w-100\",\n        name: \"oldPassword\",\n        type: \"password\",\n        value: this.state.oldPassword,\n        onChange: this.handleChange(\"oldPassword\"),\n        validators: [\"required\"],\n        errorMessages: [t(\"general.required\")],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 10\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        md: 12,\n        sm: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        fullWidth: true,\n        margin: \"dense\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        label: /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }\n        }, \"*\"), t(\"user.pass\")),\n        id: \"password-current\",\n        className: \"w-100\",\n        name: \"password\",\n        type: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange(\"password\"),\n        validators: [\"required\"],\n        errorMessages: [t(\"general.required\")],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 10\n        }\n      }))), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        md: 12,\n        sm: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(FormControl, {\n        fullWidth: true,\n        margin: \"dense\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        label: /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 12\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }\n        }, \"*\"), t(\"user.re_pass\")),\n        id: \"confirm-password\",\n        className: \"w-100\",\n        name: \"confirmPassword\",\n        type: \"password\",\n        value: this.state.confirmPassword,\n        onChange: this.handleChange(\"confirmPassword\"),\n        validators: [\"required\", \"isPasswordMatch\"],\n        errorMessages: [t(\"general.required\"), t(\"user.passwordMatchMessage\")],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 10\n        }\n      }))))), /*#__PURE__*/React.createElement(DialogActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"mr-12 align-bottom\",\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: function onClick() {\n          return handleClose();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 7\n        }\n      }, t(\"general.cancel\")), /*#__PURE__*/React.createElement(Button, {\n        className: \"mr-16\",\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 7\n        }\n      }, t(\"general.update\")))));\n    }\n  }]);\n\n  return ChangePasswordPopup;\n}(Component);\n\nexport default ChangePasswordPopup;","map":{"version":3,"sources":["D:/OceanTech/nimpe/Client-V2/src/app/views/page-layouts/ChangePasswordPopup.jsx"],"names":["Button","Dialog","DialogActions","Grid","Paper","DialogContent","DialogTitle","FormControl","React","Component","Draggable","TextValidator","ValidatorForm","JwtAuthService","changePassword","toast","PaperComponent","props","ChangePasswordPopup","state","oldPassword","password","confirmPassword","handleChangePassword","then","success","setTimeout","logout","catch","error","handleClose","handleChange","name","event","setState","target","value","addValidationRule","user","t","open","style","width","maxHeight","alignContent","cursor","color"],"mappings":"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","sourcesContent":["import {\r\n\tButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tGrid,\r\n\tPaper,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tFormControl,\r\n} from \"@material-ui/core\";\r\nimport React, { Component } from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nimport \"react-image-crop/dist/ReactCrop.css\";\r\nimport { TextValidator, ValidatorForm } from \"react-material-ui-form-validator\";\r\nimport JwtAuthService from \"../../services/jwtAuthService\";\r\nimport { changePassword } from \"./UserProfileService\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nfunction PaperComponent(props) {\r\n\treturn (\r\n\t\t<Draggable\r\n\t\t\thandle=\"#draggable-dialog-title\"\r\n\t\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\r\n\t\t>\r\n\t\t\t<Paper {...props} />\r\n\t\t</Draggable>\r\n\t);\r\n}\r\n\r\nclass ChangePasswordPopup extends Component {\r\n\tstate = {\r\n\t\toldPassword: \"\",\r\n\t\tpassword: \"\",\r\n\t\tconfirmPassword: \"\",\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tValidatorForm.addValidationRule(\"isPasswordMatch\", value => {\r\n\t\t\tif (value !== this.state.password) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tif (this.props.user) {\r\n\t\t\tthis.setState({\r\n\t\t\t\t...this.props.user,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\thandleChangePassword = () => {\r\n\t\tchangePassword(this.state)\r\n\t\t\t.then(() => {\r\n\t\t\t\ttoast.success(\"Bạn đã đối mật khẩu thành công\");\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tJwtAuthService.logout();\r\n\t\t\t\t}, 2000);\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\ttoast.error(\"Đã có lỗi khi đổi mật khẩu\");\r\n\t\t\t\tthis.props.handleClose();\r\n\t\t\t});\r\n\t};\r\n\r\n\thandleChange = name => event => {\r\n\t\tthis.setState({\r\n\t\t\t[name]: event.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { t, handleClose, open, user } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\topen={open}\r\n\t\t\t\tPaperProps={{\r\n\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\twidth: 500,\r\n\t\t\t\t\t\tmaxHeight: 800,\r\n\t\t\t\t\t\talignContent: \"center\",\r\n\t\t\t\t\t\t//backgroundColor: 'Blue',\r\n\t\t\t\t\t\t//color:'black'\r\n\t\t\t\t\t},\r\n\t\t\t\t}}\r\n\t\t\t\tPaperComponent={PaperComponent}\r\n\t\t\t\tmaxWidth={\"md\"}\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle\r\n\t\t\t\t\tstyle={{ cursor: \"move\" }}\r\n\t\t\t\t\tid=\"draggable-dialog-title\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{t(\"user.changePass\")}\r\n\t\t\t\t</DialogTitle>\r\n\r\n\t\t\t\t<ValidatorForm\r\n\t\t\t\t\tref=\"form\"\r\n\t\t\t\t\tonSubmit={() => this.handleChangePassword()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t<Grid item md={12} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<FormControl fullWidth margin=\"dense\">\r\n\t\t\t\t\t\t\t\t\t<TextValidator\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: \"red\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t*\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t(\"user.current_password\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tid=\"password-current\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"oldPassword\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.oldPassword}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\"oldPassword\"\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tvalidators={[\"required\"]}\r\n\t\t\t\t\t\t\t\t\t\terrorMessages={[t(\"general.required\")]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item md={12} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<FormControl fullWidth margin=\"dense\">\r\n\t\t\t\t\t\t\t\t\t<TextValidator\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: \"red\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t*\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t(\"user.pass\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tid=\"password-current\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.password}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange(\"password\")}\r\n\t\t\t\t\t\t\t\t\t\tvalidators={[\"required\"]}\r\n\t\t\t\t\t\t\t\t\t\terrorMessages={[t(\"general.required\")]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item md={12} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<FormControl fullWidth margin=\"dense\">\r\n\t\t\t\t\t\t\t\t\t<TextValidator\r\n\t\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: \"red\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t*\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{t(\"user.re_pass\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tid=\"confirm-password\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.confirmPassword}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleChange(\r\n\t\t\t\t\t\t\t\t\t\t\t\"confirmPassword\"\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tvalidators={[\r\n\t\t\t\t\t\t\t\t\t\t\t\"required\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"isPasswordMatch\",\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\terrorMessages={[\r\n\t\t\t\t\t\t\t\t\t\t\tt(\"general.required\"),\r\n\t\t\t\t\t\t\t\t\t\t\tt(\"user.passwordMatchMessage\"),\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</DialogContent>\r\n\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"mr-12 align-bottom\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => handleClose()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(\"general.cancel\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"mr-16\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t(\"general.update\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\nexport default ChangePasswordPopup;\r\n"]},"metadata":{},"sourceType":"module"}