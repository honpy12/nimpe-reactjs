{"ast":null,"code":"import _defineProperty from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\src\\\\app\\\\views\\\\Article\\\\SelectParentPopup.jsx\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, Paper, Radio, TablePagination, TextField } from \"@material-ui/core\";\nimport MaterialTable from \"material-table\";\nimport React from \"react\";\nimport Draggable from \"react-draggable\";\nimport { searchByPage } from \"../Category/CategoryService\";\nimport NicePagination from \"../Component/Pagination/NicePagination\";\n\nfunction PaperComponent(props) {\n  return /*#__PURE__*/React.createElement(Draggable, {\n    handle: \"#draggable-dialog-title\",\n    cancel: '[class*=\"MuiDialogContent-root\"]',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Paper, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 4\n    }\n  })));\n}\n\nvar SelectParentPopup = /*#__PURE__*/function (_React$Component) {\n  _inherits(SelectParentPopup, _React$Component);\n\n  var _super = _createSuper(SelectParentPopup);\n\n  function SelectParentPopup(props) {\n    var _this;\n\n    _classCallCheck(this, SelectParentPopup);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      rowsPerPage: 5,\n      page: 0,\n      totalElements: 0,\n      totalPage: 0,\n      itemList: [],\n      shouldOpenEditorDialog: false,\n      shouldOpenConfirmationDialog: false,\n      selectedItem: {},\n      keyword: \"\",\n      shouldOpenProductDialog: false,\n      item: null,\n      loading: true\n    };\n\n    _this.setPage = function (page) {\n      _this.setState({\n        page: page\n      }, function () {\n        this.updatePageData();\n      });\n    };\n\n    _this.setRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value,\n        page: 0\n      }, function () {\n        this.updatePageData();\n      });\n    };\n\n    _this.handleChangePage = function (event, newPage) {\n      _this.setPage(newPage);\n    };\n\n    _this.updatePageData = function () {\n      var searchObject = {};\n\n      _this.setState({\n        loading: true\n      });\n\n      searchObject.keyword = _this.state.keyword;\n      searchObject.pageIndex = _this.state.page + 1;\n      searchObject.pageSize = _this.state.rowsPerPage;\n      searchByPage(searchObject).then(function (_ref) {\n        var data = _ref.data;\n\n        _this.setState({\n          itemList: _toConsumableArray(data.data.content),\n          totalElements: data.data.totalElements,\n          totalPage: data.totalPages,\n          loading: false\n        });\n      }).catch(function () {\n        _this.setState({\n          itemList: [],\n          loading: false\n        });\n      });\n    };\n\n    _this.handleClick = function (event, item) {\n      if (item.id != null) {\n        _this.setState({\n          selectedValue: item.id,\n          selectedItem: item\n        });\n      } else {\n        _this.setState({\n          selectedValue: null,\n          selectedItem: null\n        });\n      }\n    };\n\n    _this.handleKeyDownEnterSearch = function (e) {\n      if (e.key === \"Enter\") {\n        _this.search();\n      }\n    };\n\n    _this.handleChange = function (event) {\n      event.persist();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value), function () {\n        this.search();\n      });\n    };\n\n    _this.handleOpenProductDialog = function () {\n      _this.setState({\n        shouldOpenProductDialog: true\n      });\n    };\n\n    _this.handleDialogProductClose = function () {\n      _this.setState({\n        shouldOpenProductDialog: false\n      });\n    };\n\n    _this.handleOKEditClose = function () {\n      _this.setState({\n        shouldOpenProductDialog: false\n      });\n\n      _this.updatePageData();\n    };\n\n    _this.onClickRow = function (selectedRow) {\n      document.querySelector(\"#radio\".concat(selectedRow.id)).click();\n    };\n\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SelectParentPopup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updatePageData();\n      var selectedItem = this.props.selectedItem;\n      this.setState({\n        selectedValue: selectedItem.id\n      });\n    }\n  }, {\n    key: \"search\",\n    value: function search() {\n      this.setPage(0, function () {\n        var _this2 = this;\n\n        var searchObject = {};\n        this.setState({\n          loading: true\n        });\n        searchObject.title = this.state.keyword;\n        searchObject.pageIndex = this.state.page;\n        searchObject.pageSize = this.state.rowsPerPage;\n        searchByPage(searchObject).then(function (_ref2) {\n          var data = _ref2.data;\n\n          _this2.setState({\n            itemList: _toConsumableArray(data.data.content),\n            totalElements: data.totalElements,\n            totalPage: data.totalPages,\n            loading: false\n          });\n        }).catch(function () {\n          _this2.setState({\n            itemList: [],\n            loading: false\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          t = _this$props.t,\n          handleClose = _this$props.handleClose,\n          handleSelect = _this$props.handleSelect,\n          open = _this$props.open,\n          itemId = _this$props.itemId;\n      var _this$state = this.state,\n          keyword = _this$state.keyword,\n          itemList = _this$state.itemList,\n          page = _this$state.page,\n          rowsPerPage = _this$state.rowsPerPage,\n          totalElements = _this$state.totalElements,\n          totalPage = _this$state.totalPage,\n          loading = _this$state.loading;\n      var columns = [{\n        title: t(\"general.select\"),\n        field: \"custom\",\n        align: \"left\",\n        render: function render(rowData) {\n          return /*#__PURE__*/React.createElement(Radio, {\n            id: \"radio\".concat(rowData.id),\n            name: \"radSelected\",\n            value: rowData.id,\n            checked: _this3.state.selectedValue === rowData.id,\n            onClick: function onClick(event) {\n              return _this3.handleClick(event, rowData);\n            },\n            disabled: rowData.id === itemId,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 6\n            }\n          });\n        }\n      }, {\n        title: t(\"category.code\"),\n        field: \"code\",\n        align: \"left\",\n        width: \"150\"\n      }, {\n        title: t(\"category.title\"),\n        field: \"title\",\n        width: \"150\"\n      }];\n      return /*#__PURE__*/React.createElement(Dialog, {\n        onClose: handleClose,\n        open: open,\n        PaperComponent: PaperComponent,\n        maxWidth: \"md\",\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        style: {\n          cursor: \"move\"\n        },\n        id: \"draggable-dialog-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"mb-20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 6\n        }\n      }, t(\"component.product.title\"))), /*#__PURE__*/React.createElement(DialogContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        label: t(\"general.enterSearch\"),\n        type: \"text\",\n        name: \"keyword\",\n        value: keyword,\n        onChange: this.handleChange,\n        onKeyDown: this.handleKeyDownEnterSearch,\n        id: \"search_box\",\n        className: \"mb-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 7\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(MaterialTable, {\n        title: t(\"List\"),\n        data: itemList,\n        columns: columns,\n        isLoading: loading,\n        options: {\n          showEmptyDataSourceMessage: true,\n          selection: false,\n          actionsColumnIndex: -1,\n          paging: false,\n          search: false,\n          rowStyle: function rowStyle(rowData, index) {\n            return {\n              backgroundColor: index % 2 === 1 ? \"#EEE\" : \"#FFF\"\n            };\n          },\n          maxBodyHeight: \"450px\",\n          minBodyHeight: \"370px\",\n          headerStyle: {\n            backgroundColor: \"#2a80c8\",\n            color: \"#fff\",\n            height: \"50px\"\n          },\n          padding: \"dense\",\n          toolbar: false\n        },\n        onSelectionChange: function onSelectionChange(rows) {\n          _this3.data = rows;\n        },\n        localization: {\n          body: {\n            emptyDataSourceMessage: \"\".concat(t(\"general.emptyDataMessageTable\"))\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(NicePagination, {\n        totalPages: totalPage,\n        handleChangePage: this.handleChangePage,\n        setRowsPerPage: this.setRowsPerPage,\n        pageSize: rowsPerPage,\n        pageSizeOption: [1, 2, 3, 5, 10, 25],\n        t: t,\n        totalElements: totalElements,\n        page: page,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 7\n        }\n      }))), /*#__PURE__*/React.createElement(DialogActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"mb-16 mr-12 align-bottom\",\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: function onClick() {\n          return handleClose();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 6\n        }\n      }, t(\"general.cancel\")), /*#__PURE__*/React.createElement(Button, {\n        className: \"mb-16 mr-16 align-bottom\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return handleSelect(_this3.state.selectedItem);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 6\n        }\n      }, t(\"general.select\"))));\n    }\n  }]);\n\n  return SelectParentPopup;\n}(React.Component);\n\nexport default SelectParentPopup;","map":{"version":3,"sources":["D:/OceanTech/nimpe/Client-V2/src/app/views/Article/SelectParentPopup.jsx"],"names":["Button","Dialog","DialogActions","DialogContent","DialogTitle","Grid","Paper","Radio","TablePagination","TextField","MaterialTable","React","Draggable","searchByPage","NicePagination","PaperComponent","props","SelectParentPopup","state","rowsPerPage","page","totalElements","totalPage","itemList","shouldOpenEditorDialog","shouldOpenConfirmationDialog","selectedItem","keyword","shouldOpenProductDialog","item","loading","setPage","setState","updatePageData","setRowsPerPage","event","target","value","handleChangePage","newPage","searchObject","pageIndex","pageSize","then","data","content","totalPages","catch","handleClick","id","selectedValue","handleKeyDownEnterSearch","e","key","search","handleChange","persist","name","handleOpenProductDialog","handleDialogProductClose","handleOKEditClose","onClickRow","selectedRow","document","querySelector","click","bind","title","t","handleClose","handleSelect","open","itemId","columns","field","align","render","rowData","width","cursor","showEmptyDataSourceMessage","selection","actionsColumnIndex","paging","rowStyle","index","backgroundColor","maxBodyHeight","minBodyHeight","headerStyle","color","height","padding","toolbar","rows","body","emptyDataSourceMessage","Component"],"mappings":"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","sourcesContent":["import {\r\n\tButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tGrid,\r\n\tPaper,\r\n\tRadio,\r\n\tTablePagination,\r\n\tTextField,\r\n} from \"@material-ui/core\";\r\nimport MaterialTable from \"material-table\";\r\nimport React from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nimport { searchByPage } from \"../Category/CategoryService\";\r\nimport NicePagination from \"../Component/Pagination/NicePagination\";\r\n\r\nfunction PaperComponent(props) {\r\n\treturn (\r\n\t\t<Draggable\r\n\t\t\thandle=\"#draggable-dialog-title\"\r\n\t\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\r\n\t\t>\r\n\t\t\t<Paper {...props} />\r\n\t\t</Draggable>\r\n\t);\r\n}\r\n\r\nclass SelectParentPopup extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\tstate = {\r\n\t\trowsPerPage: 5,\r\n\t\tpage: 0,\r\n\t\ttotalElements: 0,\r\n\t\ttotalPage: 0,\r\n\t\titemList: [],\r\n\t\tshouldOpenEditorDialog: false,\r\n\t\tshouldOpenConfirmationDialog: false,\r\n\t\tselectedItem: {},\r\n\t\tkeyword: \"\",\r\n\t\tshouldOpenProductDialog: false,\r\n\t\titem: null,\r\n\t\tloading: true,\r\n\t};\r\n\r\n\tsetPage = page => {\r\n\t\tthis.setState({ page }, function () {\r\n\t\t\tthis.updatePageData();\r\n\t\t});\r\n\t};\r\n\r\n\tsetRowsPerPage = event => {\r\n\t\tthis.setState(\r\n\t\t\t{ rowsPerPage: event.target.value, page: 0 },\r\n\t\t\tfunction () {\r\n\t\t\t\tthis.updatePageData();\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\thandleChangePage = (event, newPage) => {\r\n\t\tthis.setPage(newPage);\r\n\t};\r\n\r\n\tupdatePageData = () => {\r\n\t\tvar searchObject = {};\r\n\t\tthis.setState({\r\n\t\t\tloading: true,\r\n\t\t});\r\n\t\tsearchObject.keyword = this.state.keyword;\r\n\t\tsearchObject.pageIndex = this.state.page + 1;\r\n\t\tsearchObject.pageSize = this.state.rowsPerPage;\r\n\t\tsearchByPage(searchObject)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titemList: [...data.data.content],\r\n\t\t\t\t\ttotalElements: data.data.totalElements,\r\n\t\t\t\t\ttotalPage: data.totalPages,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titemList: [],\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updatePageData();\r\n\t\tlet { selectedItem } = this.props;\r\n\t\tthis.setState({ selectedValue: selectedItem.id });\r\n\t}\r\n\r\n\thandleClick = (event, item) => {\r\n\t\tif (item.id != null) {\r\n\t\t\tthis.setState({ selectedValue: item.id, selectedItem: item });\r\n\t\t} else {\r\n\t\t\tthis.setState({ selectedValue: null, selectedItem: null });\r\n\t\t}\r\n\t};\r\n\r\n\thandleKeyDownEnterSearch = e => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tthis.search();\r\n\t\t}\r\n\t};\r\n\r\n\tsearch() {\r\n\t\tthis.setPage(0, function () {\r\n\t\t\tvar searchObject = {};\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true,\r\n\t\t\t});\r\n\t\t\tsearchObject.title = this.state.keyword;\r\n\t\t\tsearchObject.pageIndex = this.state.page;\r\n\t\t\tsearchObject.pageSize = this.state.rowsPerPage;\r\n\t\t\tsearchByPage(searchObject)\r\n\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\titemList: [...data.data.content],\r\n\t\t\t\t\t\ttotalElements: data.totalElements,\r\n\t\t\t\t\t\ttotalPage: data.totalPages,\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\titemList: [],\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\thandleChange = event => {\r\n\t\tevent.persist();\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\t[event.target.name]: event.target.value,\r\n\t\t\t},\r\n\t\t\tfunction () {\r\n\t\t\t\tthis.search();\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\thandleOpenProductDialog = () => {\r\n\t\tthis.setState({\r\n\t\t\tshouldOpenProductDialog: true,\r\n\t\t});\r\n\t};\r\n\r\n\thandleDialogProductClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshouldOpenProductDialog: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleOKEditClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshouldOpenProductDialog: false,\r\n\t\t});\r\n\t\tthis.updatePageData();\r\n\t};\r\n\r\n\tonClickRow = selectedRow => {\r\n\t\tdocument.querySelector(`#radio${selectedRow.id}`).click();\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { t, handleClose, handleSelect, open, itemId } = this.props;\r\n\t\tlet {\r\n\t\t\tkeyword,\r\n\t\t\titemList,\r\n\t\t\tpage,\r\n\t\t\trowsPerPage,\r\n\t\t\ttotalElements,\r\n\t\t\ttotalPage,\r\n\t\t\tloading,\r\n\t\t} = this.state;\r\n\t\tlet columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: t(\"general.select\"),\r\n\t\t\t\tfield: \"custom\",\r\n\t\t\t\talign: \"left\",\r\n\t\t\t\trender: rowData => (\r\n\t\t\t\t\t<Radio\r\n\t\t\t\t\t\tid={`radio${rowData.id}`}\r\n\t\t\t\t\t\tname=\"radSelected\"\r\n\t\t\t\t\t\tvalue={rowData.id}\r\n\t\t\t\t\t\tchecked={this.state.selectedValue === rowData.id}\r\n\t\t\t\t\t\tonClick={event => this.handleClick(event, rowData)}\r\n\t\t\t\t\t\tdisabled={rowData.id === itemId}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: t(\"category.code\"),\r\n\t\t\t\tfield: \"code\",\r\n\t\t\t\talign: \"left\",\r\n\t\t\t\twidth: \"150\",\r\n\t\t\t},\r\n\t\t\t{ title: t(\"category.title\"), field: \"title\", width: \"150\" },\r\n\t\t];\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\topen={open}\r\n\t\t\t\tPaperComponent={PaperComponent}\r\n\t\t\t\tmaxWidth={\"md\"}\r\n\t\t\t\tfullWidth\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle\r\n\t\t\t\t\tstyle={{ cursor: \"move\" }}\r\n\t\t\t\t\tid=\"draggable-dialog-title\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"mb-20\">\r\n\t\t\t\t\t\t{t(\"component.product.title\")}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tlabel={t(\"general.enterSearch\")}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"keyword\"\r\n\t\t\t\t\t\t\tvalue={keyword}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={this.handleKeyDownEnterSearch}\r\n\t\t\t\t\t\t\tid=\"search_box\"\r\n\t\t\t\t\t\t\tclassName=\"mb-16\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\t\ttitle={t(\"List\")}\r\n\t\t\t\t\t\t\tdata={itemList}\r\n\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\tisLoading={loading}\r\n\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\tshowEmptyDataSourceMessage: true,\r\n\t\t\t\t\t\t\t\tselection: false,\r\n\t\t\t\t\t\t\t\tactionsColumnIndex: -1,\r\n\t\t\t\t\t\t\t\tpaging: false,\r\n\t\t\t\t\t\t\t\tsearch: false,\r\n\t\t\t\t\t\t\t\trowStyle: (rowData, index) => ({\r\n\t\t\t\t\t\t\t\t\tbackgroundColor:\r\n\t\t\t\t\t\t\t\t\t\tindex % 2 === 1 ? \"#EEE\" : \"#FFF\",\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\tmaxBodyHeight: \"450px\",\r\n\t\t\t\t\t\t\t\tminBodyHeight: \"370px\",\r\n\t\t\t\t\t\t\t\theaderStyle: {\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: \"#2a80c8\",\r\n\t\t\t\t\t\t\t\t\tcolor: \"#fff\",\r\n\t\t\t\t\t\t\t\t\theight: \"50px\",\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tpadding: \"dense\",\r\n\t\t\t\t\t\t\t\ttoolbar: false,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonSelectionChange={rows => {\r\n\t\t\t\t\t\t\t\tthis.data = rows;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tlocalization={{\r\n\t\t\t\t\t\t\t\tbody: {\r\n\t\t\t\t\t\t\t\t\temptyDataSourceMessage: `${t(\r\n\t\t\t\t\t\t\t\t\t\t\"general.emptyDataMessageTable\"\r\n\t\t\t\t\t\t\t\t\t)}`,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<NicePagination\r\n\t\t\t\t\t\t\ttotalPages={totalPage}\r\n\t\t\t\t\t\t\thandleChangePage={this.handleChangePage}\r\n\t\t\t\t\t\t\tsetRowsPerPage={this.setRowsPerPage}\r\n\t\t\t\t\t\t\tpageSize={rowsPerPage}\r\n\t\t\t\t\t\t\tpageSizeOption={[1, 2, 3, 5, 10, 25]}\r\n\t\t\t\t\t\t\tt={t}\r\n\t\t\t\t\t\t\ttotalElements={totalElements}\r\n\t\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</DialogContent>\r\n\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mb-16 mr-12 align-bottom\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tonClick={() => handleClose()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t(\"general.cancel\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mb-16 mr-16 align-bottom\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => handleSelect(this.state.selectedItem)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t(\"general.select\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\nexport default SelectParentPopup;\r\n"]},"metadata":{},"sourceType":"module"}