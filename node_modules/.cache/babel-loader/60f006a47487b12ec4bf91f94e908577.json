{"ast":null,"code":"import _defineProperty from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\src\\\\app\\\\views\\\\SicknessType\\\\SicknessTypeDialog.jsx\";\nimport { Button, Dialog, DialogActions, Grid, DialogTitle, DialogContent } from \"@material-ui/core\";\nimport React, { Component } from \"react\";\nimport { TextValidator, ValidatorForm } from \"react-material-ui-form-validator\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { addNew, checkCode, update } from \"./SicknessTypeService\";\nimport { Block, Save } from \"@material-ui/icons\";\ntoast.configure({\n  autoClose: 2000,\n  draggable: false,\n  limit: 3\n});\n\nvar SpecimenTypeDialog = /*#__PURE__*/function (_Component) {\n  _inherits(SpecimenTypeDialog, _Component);\n\n  var _super = _createSuper(SpecimenTypeDialog);\n\n  function SpecimenTypeDialog() {\n    var _this;\n\n    _classCallCheck(this, SpecimenTypeDialog);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      id: \"\",\n      name: \"\",\n      code: \"\",\n      description: \"\",\n      isExternalOrg: false,\n      isActive: false,\n      shouldOpenSelectParentPopup: false,\n      item: {}\n    };\n    _this.valueItem = {};\n\n    _this.handleChange = function (event, source) {\n      // debugger\n      event.persist();\n\n      if (source === \"isExternalOrg\") {\n        _this.setState({\n          isExternalOrg: event.target.checked\n        });\n\n        return;\n      }\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.handleFormSubmit = function () {\n      var _this$state = _this.state,\n          id = _this$state.id,\n          name = _this$state.name,\n          code = _this$state.code,\n          description = _this$state.description;\n      var obj = {\n        code: code\n      };\n      var item = {};\n      item.id = id;\n      item.name = name;\n      item.code = code;\n      item.description = description;\n      checkCode(obj).then(function (result) {\n        if (result.data) {\n          //Nếu trả về true là code chưa sử dụng có thể dùng\n          if (id) {\n            update(item).then(function () {\n              _this.props.handleOKEditClose();\n\n              toast.success(\"Cập nhật thành công!\");\n            });\n          } else {\n            addNew(item).then(function () {\n              _this.props.handleOKEditClose();\n\n              toast.success(\"Thêm mới thành công!\");\n            });\n          }\n        } else {\n          //Nếu trả về false là code đã được sử dụng\n          toast.warn(\"Code bị trùng, vui lòng kiểm tra lại\");\n        }\n      });\n    };\n\n    _this.handleDialogClose = function () {\n      _this.setState({\n        shouldOpenSelectParentPopup: false\n      });\n    };\n\n    _this.handleChangeValue = function (item) {\n      _this.valueItem = item;\n      console.log(_this.valueItem);\n    };\n\n    return _this;\n  }\n\n  _createClass(SpecimenTypeDialog, [{\n    key: \"validateForm\",\n    value: function validateForm(value) {\n      var whitespace = new RegExp(/[^\\s]+/);\n\n      if (!whitespace.test(value)) {\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      ValidatorForm.addValidationRule(\"whitespace\", function (value) {\n        if (_this2.validateForm(value)) {\n          return false;\n        }\n\n        return true;\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this3 = this;\n\n      var item = this.props.item;\n      var specimenType;\n\n      if (item.specimenType != null && item.specimenType.length > 0) {\n        specimenType = item.specimenType[0];\n      }\n\n      this.setState(item, function () {\n        _this3.setState({\n          specimenType: specimenType\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      ValidatorForm.removeValidationRule(\"whitespace\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props = this.props,\n          open = _this$props.open,\n          t = _this$props.t;\n      var _this$state2 = this.state,\n          id = _this$state2.id,\n          name = _this$state2.name,\n          code = _this$state2.code,\n          description = _this$state2.description;\n      return /*#__PURE__*/React.createElement(Dialog, {\n        open: open,\n        fullWidth: true,\n        maxWidth: \"sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 5\n        }\n      }, id ? t(\"general.update\") : t(\"general.add\")), /*#__PURE__*/React.createElement(ValidatorForm, {\n        ref: \"form\",\n        onSubmit: this.handleFormSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(DialogContent, {\n        dividers: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        container: true,\n        spacing: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 6,\n        md: 6,\n        sm: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        className: \"w-100\",\n        size: \"small\",\n        label: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 12\n          }\n        }, \" \", \"*\", \" \"), t(\"sicknessType.code\")),\n        onChange: this.handleChange,\n        type: \"text\",\n        name: \"code\",\n        value: code,\n        validators: [\"required\", \"whitespace\"],\n        errorMessages: [t(\"general.required\"), t(\"general.invalidCharacter\")],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 6,\n        md: 6,\n        sm: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        className: \"w-100\",\n        size: \"small\",\n        label: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 12\n          }\n        }, \" \", \"*\", \" \"), t(\"sicknessType.name\")),\n        onChange: this.handleChange,\n        type: \"text\",\n        name: \"name\",\n        value: name,\n        validators: [\"required\", \"whitespace\"],\n        errorMessages: [t(\"general.required\"), t(\"general.invalidCharacter\")],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        lg: 12,\n        md: 12,\n        sm: 12,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        className: \"w-100\",\n        size: \"small\",\n        label: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"red\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 12\n          }\n        }, \" \", \"*\", \" \"), t(\"sicknessType.description\")),\n        onChange: this.handleChange,\n        type: \"text\",\n        name: \"description\",\n        value: description,\n        validators: [\"required\", \"whitespace\"],\n        errorMessages: [t(\"general.required\"), t(\"general.invalidCharacter\")],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 9\n        }\n      })))), /*#__PURE__*/React.createElement(DialogActions, {\n        style: {\n          paddingRight: \"0px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"flex flex-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        startIcon: /*#__PURE__*/React.createElement(Block, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 20\n          }\n        }),\n        variant: \"contained\",\n        className: \"mr-12\",\n        color: \"secondary\",\n        onClick: function onClick() {\n          return _this4.props.handleClose();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 8\n        }\n      }, t(\"general.cancel\")), /*#__PURE__*/React.createElement(Button, {\n        startIcon: /*#__PURE__*/React.createElement(Save, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 20\n          }\n        }),\n        className: \"mr-8\",\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 8\n        }\n      }, t(\"general.save\"))))));\n    }\n  }]);\n\n  return SpecimenTypeDialog;\n}(Component);\n\nexport default SpecimenTypeDialog;","map":{"version":3,"sources":["D:/OceanTech/nimpe/Client-V2/src/app/views/SicknessType/SicknessTypeDialog.jsx"],"names":["Button","Dialog","DialogActions","Grid","DialogTitle","DialogContent","React","Component","TextValidator","ValidatorForm","toast","addNew","checkCode","update","Block","Save","configure","autoClose","draggable","limit","SpecimenTypeDialog","state","id","name","code","description","isExternalOrg","isActive","shouldOpenSelectParentPopup","item","valueItem","handleChange","event","source","persist","setState","target","checked","value","handleFormSubmit","obj","then","result","data","props","handleOKEditClose","success","warn","handleDialogClose","handleChangeValue","console","log","whitespace","RegExp","test","addValidationRule","validateForm","specimenType","length","removeValidationRule","open","t","color","paddingRight","handleClose"],"mappings":"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","sourcesContent":["import {\r\n\tButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tGrid,\r\n\tDialogTitle,\r\n\tDialogContent,\r\n} from \"@material-ui/core\";\r\nimport React, { Component } from \"react\";\r\nimport { TextValidator, ValidatorForm } from \"react-material-ui-form-validator\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { addNew, checkCode, update } from \"./SicknessTypeService\";\r\nimport { Block, Save } from \"@material-ui/icons\";\r\ntoast.configure({\r\n\tautoClose: 2000,\r\n\tdraggable: false,\r\n\tlimit: 3,\r\n});\r\n\r\nclass SpecimenTypeDialog extends Component {\r\n\tstate = {\r\n\t\tid: \"\",\r\n\t\tname: \"\",\r\n\t\tcode: \"\",\r\n\t\tdescription: \"\",\r\n\t\tisExternalOrg: false,\r\n\t\tisActive: false,\r\n\t\tshouldOpenSelectParentPopup: false,\r\n\t\titem: {},\r\n\t};\r\n\tvalueItem = {};\r\n\t//------------\r\n\thandleChange = (event, source) => {\r\n\t\t// debugger\r\n\t\tevent.persist();\r\n\t\tif (source === \"isExternalOrg\") {\r\n\t\t\tthis.setState({ isExternalOrg: event.target.checked });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\t[event.target.name]: event.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\thandleFormSubmit = () => {\r\n\t\tlet { id, name, code, description } = this.state;\r\n\t\tlet obj = { code: code };\r\n\t\tlet item = {};\r\n\t\titem.id = id;\r\n\t\titem.name = name;\r\n\t\titem.code = code;\r\n\t\titem.description = description;\r\n\r\n\t\tcheckCode(obj).then(result => {\r\n\t\t\tif (result.data) {\r\n\t\t\t\t//Nếu trả về true là code chưa sử dụng có thể dùng\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tupdate(item).then(() => {\r\n\t\t\t\t\t\tthis.props.handleOKEditClose();\r\n\t\t\t\t\t\ttoast.success(\"Cập nhật thành công!\");\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\taddNew(item).then(() => {\r\n\t\t\t\t\t\tthis.props.handleOKEditClose();\r\n\t\t\t\t\t\ttoast.success(\"Thêm mới thành công!\");\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//Nếu trả về false là code đã được sử dụng\r\n\t\t\t\ttoast.warn(\"Code bị trùng, vui lòng kiểm tra lại\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\thandleDialogClose = () => {\r\n\t\tthis.setState({ shouldOpenSelectParentPopup: false });\r\n\t};\r\n\r\n\tvalidateForm(value) {\r\n\t\tlet whitespace = new RegExp(/[^\\s]+/);\r\n\t\tif (!whitespace.test(value)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tValidatorForm.addValidationRule(\"whitespace\", value => {\r\n\t\t\tif (this.validateForm(value)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tlet { item } = this.props;\r\n\t\tlet specimenType;\r\n\t\tif (item.specimenType != null && item.specimenType.length > 0) {\r\n\t\t\tspecimenType = item.specimenType[0];\r\n\t\t}\r\n\t\tthis.setState(item, () => {\r\n\t\t\tthis.setState({ specimenType: specimenType });\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tValidatorForm.removeValidationRule(\"whitespace\");\r\n\t}\r\n\r\n\thandleChangeValue = item => {\r\n\t\tthis.valueItem = item;\r\n\t\tconsole.log(this.valueItem);\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet { open, t } = this.props;\r\n\t\tlet { id, name, code, description } = this.state;\r\n\t\treturn (\r\n\t\t\t<Dialog open={open} fullWidth maxWidth=\"sm\">\r\n\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t{id ? t(\"general.update\") : t(\"general.add\")}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<ValidatorForm ref=\"form\" onSubmit={this.handleFormSubmit}>\r\n\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t<Grid container spacing={4}>\r\n\t\t\t\t\t\t\t<Grid item lg={6} md={6} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<TextValidator\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"font\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: \"red\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{t(\"sicknessType.code\")}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"code\"\r\n\t\t\t\t\t\t\t\t\tvalue={code}\r\n\t\t\t\t\t\t\t\t\tvalidators={[\"required\", \"whitespace\"]}\r\n\t\t\t\t\t\t\t\t\terrorMessages={[\r\n\t\t\t\t\t\t\t\t\t\tt(\"general.required\"),\r\n\t\t\t\t\t\t\t\t\t\tt(\"general.invalidCharacter\"),\r\n\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item lg={6} md={6} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<TextValidator\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"font\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: \"red\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{t(\"sicknessType.name\")}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tvalidators={[\"required\", \"whitespace\"]}\r\n\t\t\t\t\t\t\t\t\terrorMessages={[\r\n\t\t\t\t\t\t\t\t\t\tt(\"general.required\"),\r\n\t\t\t\t\t\t\t\t\t\tt(\"general.invalidCharacter\"),\r\n\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item lg={12} md={12} sm={12} xs={12}>\r\n\t\t\t\t\t\t\t\t<TextValidator\r\n\t\t\t\t\t\t\t\t\tclassName=\"w-100\"\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tlabel={\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"font\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: \"red\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t{t(\"sicknessType.description\")}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\t\tvalidators={[\"required\", \"whitespace\"]}\r\n\t\t\t\t\t\t\t\t\terrorMessages={[\r\n\t\t\t\t\t\t\t\t\t\tt(\"general.required\"),\r\n\t\t\t\t\t\t\t\t\t\tt(\"general.invalidCharacter\"),\r\n\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</DialogContent>\r\n\r\n\t\t\t\t\t<DialogActions style={{ paddingRight: \"0px\" }}>\r\n\t\t\t\t\t\t<div className=\"flex flex-middle\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Block />}\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tclassName=\"mr-12\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tonClick={() => this.props.handleClose()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(\"general.cancel\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tstartIcon={<Save />}\r\n\t\t\t\t\t\t\t\tclassName=\"mr-8\"\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{t(\"general.save\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</ValidatorForm>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SpecimenTypeDialog;\r\n"]},"metadata":{},"sourceType":"module"}