{"ast":null,"code":"import _toConsumableArray from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\OceanTech\\\\nimpe\\\\Client-V2\\\\src\\\\app\\\\views\\\\Category\\\\SelectParentPopup.jsx\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, Paper, Radio, TablePagination, TextField } from \"@material-ui/core\";\nimport MaterialTable from \"material-table\";\nimport React from \"react\";\nimport Draggable from \"react-draggable\";\nimport { searchByPage } from \"./CategoryService\";\n\nfunction PaperComponent(props) {\n  return /*#__PURE__*/React.createElement(Draggable, {\n    handle: \"#draggable-dialog-title\",\n    cancel: '[class*=\"MuiDialogContent-root\"]',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Paper, Object.assign({}, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 4\n    }\n  })));\n}\n\nvar SelectParentPopup = /*#__PURE__*/function (_React$Component) {\n  _inherits(SelectParentPopup, _React$Component);\n\n  var _super = _createSuper(SelectParentPopup);\n\n  function SelectParentPopup(props) {\n    var _this;\n\n    _classCallCheck(this, SelectParentPopup);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      rowsPerPage: 5,\n      page: 0,\n      totalElements: 0,\n      itemList: [],\n      shouldOpenEditorDialog: false,\n      shouldOpenConfirmationDialog: false,\n      selectedItem: {},\n      keyword: \"\",\n      shouldOpenProductDialog: false,\n      item: null\n    };\n\n    _this.setPage = function (page) {\n      _this.setState({\n        page: page\n      }, function () {\n        this.updatePageData();\n      });\n    };\n\n    _this.setRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value,\n        page: 0\n      }, function () {\n        this.updatePageData();\n      });\n    };\n\n    _this.handleChangePage = function (event, newPage) {\n      _this.setPage(newPage);\n    };\n\n    _this.updatePageData = function () {\n      var searchObject = {};\n      searchObject.keyword = _this.state.keyword;\n      searchObject.pageIndex = _this.state.page + 1;\n      searchObject.pageSize = _this.state.rowsPerPage;\n      searchByPage(searchObject).then(function (_ref) {\n        var data = _ref.data;\n\n        _this.setState({\n          itemList: data.content,\n          totalElements: data.totalElements\n        });\n      });\n    };\n\n    _this.handleClick = function (event, item) {\n      if (item.id != null) {\n        _this.setState({\n          selectedValue: item.id,\n          selectedItem: item\n        });\n      } else {\n        _this.setState({\n          selectedValue: null,\n          selectedItem: null\n        });\n      }\n    };\n\n    _this.handleKeyDownEnterSearch = function (e) {\n      if (e.key === \"Enter\") {\n        _this.search();\n      }\n    };\n\n    _this.handleChange = function (event) {\n      event.persist();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value), function () {\n        this.search();\n      });\n    };\n\n    _this.handleOpenProductDialog = function () {\n      _this.setState({\n        shouldOpenProductDialog: true\n      });\n    };\n\n    _this.handleDialogProductClose = function () {\n      _this.setState({\n        shouldOpenProductDialog: false\n      });\n    };\n\n    _this.handleOKEditClose = function () {\n      _this.setState({\n        shouldOpenProductDialog: false\n      });\n\n      _this.updatePageData();\n    };\n\n    _this.onClickRow = function (selectedRow) {\n      document.querySelector(\"#radio\".concat(selectedRow.id)).click();\n    };\n\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SelectParentPopup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updatePageData();\n      var selectedItem = this.props.selectedItem;\n      this.setState({\n        selectedValue: selectedItem.id\n      });\n    }\n  }, {\n    key: \"search\",\n    value: function search() {\n      this.setPage(0, function () {\n        var _this2 = this;\n\n        var searchObject = {};\n        searchObject.title = this.state.keyword;\n        searchObject.pageIndex = this.state.page;\n        searchObject.pageSize = this.state.rowsPerPage;\n        searchByPage(searchObject).then(function (_ref2) {\n          var data = _ref2.data;\n\n          _this2.setState({\n            itemList: _toConsumableArray(data.data.content),\n            totalElements: data.totalElements\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          t = _this$props.t,\n          handleClose = _this$props.handleClose,\n          handleSelect = _this$props.handleSelect,\n          open = _this$props.open,\n          itemId = _this$props.itemId;\n      var _this$state = this.state,\n          keyword = _this$state.keyword,\n          itemList = _this$state.itemList;\n      var columns = [{\n        title: t(\"general.select\"),\n        field: \"custom\",\n        align: \"left\",\n        render: function render(rowData) {\n          return /*#__PURE__*/React.createElement(Radio, {\n            id: \"radio\".concat(rowData.id),\n            name: \"radSelected\",\n            value: rowData.id,\n            checked: _this3.state.selectedValue === rowData.id,\n            onClick: function onClick(event) {\n              return _this3.handleClick(event, rowData);\n            },\n            disabled: rowData.id === itemId,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 6\n            }\n          });\n        }\n      }, {\n        title: t(\"category.code\"),\n        field: \"code\",\n        align: \"left\",\n        width: \"150\"\n      }, {\n        title: t(\"category.title\"),\n        field: \"title\",\n        width: \"150\"\n      }];\n      return /*#__PURE__*/React.createElement(Dialog, {\n        onClose: handleClose,\n        open: open,\n        PaperComponent: PaperComponent,\n        maxWidth: \"md\",\n        fullWidth: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        style: {\n          cursor: \"move\"\n        },\n        id: \"draggable-dialog-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"mb-20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 6\n        }\n      }, t(\"component.product.title\"))), /*#__PURE__*/React.createElement(DialogContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        sm: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        label: t(\"general.enterSearch\"),\n        type: \"text\",\n        name: \"keyword\",\n        value: keyword,\n        onChange: this.handleChange,\n        onKeyDown: this.handleKeyDownEnterSearch,\n        id: \"search_box\",\n        className: \"mb-16\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 7\n        }\n      })), /*#__PURE__*/React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(MaterialTable, {\n        data: itemList,\n        columns: columns,\n        onRowClick: function onRowClick(evt, selectedRow) {\n          return _this3.onClickRow(selectedRow);\n        },\n        parentChildData: function parentChildData(row, rows) {\n          return rows.find(function (a) {\n            var _row$parent;\n\n            return a.id === ((_row$parent = row.parent) === null || _row$parent === void 0 ? void 0 : _row$parent.id);\n          });\n        },\n        options: {\n          toolbar: false,\n          selection: false,\n          actionsColumnIndex: -1,\n          paging: false,\n          search: false\n        },\n        onSelectionChange: function onSelectionChange(rows) {\n          _this3.data = rows;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(TablePagination, {\n        align: \"left\",\n        className: \"px-16\",\n        rowsPerPageOptions: [1, 2, 3, 5, 10, 25],\n        component: \"div\",\n        page: this.state.page,\n        rowsPerPage: this.state.rowsPerPage,\n        count: this.state.totalElements,\n        labelRowsPerPage: t(\"general.rows_per_page\"),\n        labelDisplayedRows: function labelDisplayedRows(_ref3) {\n          var from = _ref3.from,\n              to = _ref3.to,\n              count = _ref3.count;\n          return \"\".concat(from, \"-\").concat(to, \" \").concat(t(\"general.of\"), \" \").concat(count !== -1 ? count : \"more than \".concat(to));\n        },\n        backIconButtonProps: {\n          \"aria-label\": \"Previous Page\"\n        },\n        nextIconButtonProps: {\n          \"aria-label\": \"Next Page\"\n        },\n        onPageChange: this.handleChangePage,\n        onRowsPerPageChange: this.setRowsPerPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 7\n        }\n      }))), /*#__PURE__*/React.createElement(DialogActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"mb-16 mr-36 align-bottom\",\n        variant: \"contained\",\n        color: \"secondary\",\n        onClick: function onClick() {\n          return handleClose();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 6\n        }\n      }, t(\"general.cancel\")), /*#__PURE__*/React.createElement(Button, {\n        className: \"mb-16 mr-16 align-bottom\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick() {\n          return handleSelect(_this3.state.selectedItem);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 6\n        }\n      }, t(\"general.select\"))));\n    }\n  }]);\n\n  return SelectParentPopup;\n}(React.Component);\n\nexport default SelectParentPopup;","map":{"version":3,"sources":["D:/OceanTech/nimpe/Client-V2/src/app/views/Category/SelectParentPopup.jsx"],"names":["Button","Dialog","DialogActions","DialogContent","DialogTitle","Grid","Paper","Radio","TablePagination","TextField","MaterialTable","React","Draggable","searchByPage","PaperComponent","props","SelectParentPopup","state","rowsPerPage","page","totalElements","itemList","shouldOpenEditorDialog","shouldOpenConfirmationDialog","selectedItem","keyword","shouldOpenProductDialog","item","setPage","setState","updatePageData","setRowsPerPage","event","target","value","handleChangePage","newPage","searchObject","pageIndex","pageSize","then","data","content","handleClick","id","selectedValue","handleKeyDownEnterSearch","e","key","search","handleChange","persist","name","handleOpenProductDialog","handleDialogProductClose","handleOKEditClose","onClickRow","selectedRow","document","querySelector","click","bind","title","t","handleClose","handleSelect","open","itemId","columns","field","align","render","rowData","width","cursor","evt","row","rows","find","a","parent","toolbar","selection","actionsColumnIndex","paging","from","to","count","Component"],"mappings":";;;;;;;;AAAA,SACCA,MADD,EAECC,MAFD,EAGCC,aAHD,EAICC,aAJD,EAKCC,WALD,EAMCC,IAND,EAOCC,KAPD,EAQCC,KARD,EASCC,eATD,EAUCC,SAVD,QAWO,mBAXP;AAYA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,iBAAtB;AACA,SAASC,YAAT,QAA6B,mBAA7B;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC9B,sBACC,oBAAC,SAAD;AACC,IAAA,MAAM,EAAC,yBADR;AAEC,IAAA,MAAM,EAAE,kCAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIC,oBAAC,KAAD,oBAAWA,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAJD,CADD;AAQA;;IAEKC,iB;;;;;AACL,6BAAYD,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,8BAAMA,KAAN;AADkB,UAKnBE,KALmB,GAKX;AACPC,MAAAA,WAAW,EAAE,CADN;AAEPC,MAAAA,IAAI,EAAE,CAFC;AAGPC,MAAAA,aAAa,EAAE,CAHR;AAIPC,MAAAA,QAAQ,EAAE,EAJH;AAKPC,MAAAA,sBAAsB,EAAE,KALjB;AAMPC,MAAAA,4BAA4B,EAAE,KANvB;AAOPC,MAAAA,YAAY,EAAE,EAPP;AAQPC,MAAAA,OAAO,EAAE,EARF;AASPC,MAAAA,uBAAuB,EAAE,KATlB;AAUPC,MAAAA,IAAI,EAAE;AAVC,KALW;;AAAA,UAkBnBC,OAlBmB,GAkBT,UAAAT,IAAI,EAAI;AACjB,YAAKU,QAAL,CAAc;AAAEV,QAAAA,IAAI,EAAJA;AAAF,OAAd,EAAwB,YAAY;AACnC,aAAKW,cAAL;AACA,OAFD;AAGA,KAtBkB;;AAAA,UAwBnBC,cAxBmB,GAwBF,UAAAC,KAAK,EAAI;AACzB,YAAKH,QAAL,CACC;AAAEX,QAAAA,WAAW,EAAEc,KAAK,CAACC,MAAN,CAAaC,KAA5B;AAAmCf,QAAAA,IAAI,EAAE;AAAzC,OADD,EAEC,YAAY;AACX,aAAKW,cAAL;AACA,OAJF;AAMA,KA/BkB;;AAAA,UAiCnBK,gBAjCmB,GAiCA,UAACH,KAAD,EAAQI,OAAR,EAAoB;AACtC,YAAKR,OAAL,CAAaQ,OAAb;AACA,KAnCkB;;AAAA,UAqCnBN,cArCmB,GAqCF,YAAM;AACtB,UAAIO,YAAY,GAAG,EAAnB;AACAA,MAAAA,YAAY,CAACZ,OAAb,GAAuB,MAAKR,KAAL,CAAWQ,OAAlC;AACAY,MAAAA,YAAY,CAACC,SAAb,GAAyB,MAAKrB,KAAL,CAAWE,IAAX,GAAkB,CAA3C;AACAkB,MAAAA,YAAY,CAACE,QAAb,GAAwB,MAAKtB,KAAL,CAAWC,WAAnC;AACAL,MAAAA,YAAY,CAACwB,YAAD,CAAZ,CAA2BG,IAA3B,CAAgC,gBAAc;AAAA,YAAXC,IAAW,QAAXA,IAAW;;AAC7C,cAAKZ,QAAL,CAAc;AACbR,UAAAA,QAAQ,EAAEoB,IAAI,CAACC,OADF;AAEbtB,UAAAA,aAAa,EAAEqB,IAAI,CAACrB;AAFP,SAAd;AAIA,OALD;AAMA,KAhDkB;;AAAA,UAwDnBuB,WAxDmB,GAwDL,UAACX,KAAD,EAAQL,IAAR,EAAiB;AAC9B,UAAIA,IAAI,CAACiB,EAAL,IAAW,IAAf,EAAqB;AACpB,cAAKf,QAAL,CAAc;AAAEgB,UAAAA,aAAa,EAAElB,IAAI,CAACiB,EAAtB;AAA0BpB,UAAAA,YAAY,EAAEG;AAAxC,SAAd;AACA,OAFD,MAEO;AACN,cAAKE,QAAL,CAAc;AAAEgB,UAAAA,aAAa,EAAE,IAAjB;AAAuBrB,UAAAA,YAAY,EAAE;AAArC,SAAd;AACA;AACD,KA9DkB;;AAAA,UAgEnBsB,wBAhEmB,GAgEQ,UAAAC,CAAC,EAAI;AAC/B,UAAIA,CAAC,CAACC,GAAF,KAAU,OAAd,EAAuB;AACtB,cAAKC,MAAL;AACA;AACD,KApEkB;;AAAA,UAqFnBC,YArFmB,GAqFJ,UAAAlB,KAAK,EAAI;AACvBA,MAAAA,KAAK,CAACmB,OAAN;;AACA,YAAKtB,QAAL,qBAEGG,KAAK,CAACC,MAAN,CAAamB,IAFhB,EAEuBpB,KAAK,CAACC,MAAN,CAAaC,KAFpC,GAIC,YAAY;AACX,aAAKe,MAAL;AACA,OANF;AAQA,KA/FkB;;AAAA,UAiGnBI,uBAjGmB,GAiGO,YAAM;AAC/B,YAAKxB,QAAL,CAAc;AACbH,QAAAA,uBAAuB,EAAE;AADZ,OAAd;AAGA,KArGkB;;AAAA,UAuGnB4B,wBAvGmB,GAuGQ,YAAM;AAChC,YAAKzB,QAAL,CAAc;AACbH,QAAAA,uBAAuB,EAAE;AADZ,OAAd;AAGA,KA3GkB;;AAAA,UA6GnB6B,iBA7GmB,GA6GC,YAAM;AACzB,YAAK1B,QAAL,CAAc;AACbH,QAAAA,uBAAuB,EAAE;AADZ,OAAd;;AAGA,YAAKI,cAAL;AACA,KAlHkB;;AAAA,UAoHnB0B,UApHmB,GAoHN,UAAAC,WAAW,EAAI;AAC3BC,MAAAA,QAAQ,CAACC,aAAT,iBAAgCF,WAAW,CAACb,EAA5C,GAAkDgB,KAAlD;AACA,KAtHkB;;AAElB,UAAKV,YAAL,GAAoB,MAAKA,YAAL,CAAkBW,IAAlB,+BAApB;AAFkB;AAGlB;;;;WA+CD,6BAAoB;AACnB,WAAK/B,cAAL;AACA,UAAMN,YAAN,GAAuB,KAAKT,KAA5B,CAAMS,YAAN;AACA,WAAKK,QAAL,CAAc;AAAEgB,QAAAA,aAAa,EAAErB,YAAY,CAACoB;AAA9B,OAAd;AACA;;;WAgBD,kBAAS;AACR,WAAKhB,OAAL,CAAa,CAAb,EAAgB,YAAY;AAAA;;AAC3B,YAAIS,YAAY,GAAG,EAAnB;AACAA,QAAAA,YAAY,CAACyB,KAAb,GAAqB,KAAK7C,KAAL,CAAWQ,OAAhC;AACAY,QAAAA,YAAY,CAACC,SAAb,GAAyB,KAAKrB,KAAL,CAAWE,IAApC;AACAkB,QAAAA,YAAY,CAACE,QAAb,GAAwB,KAAKtB,KAAL,CAAWC,WAAnC;AACAL,QAAAA,YAAY,CAACwB,YAAD,CAAZ,CAA2BG,IAA3B,CAAgC,iBAAc;AAAA,cAAXC,IAAW,SAAXA,IAAW;;AAC7C,UAAA,MAAI,CAACZ,QAAL,CAAc;AACbR,YAAAA,QAAQ,qBAAMoB,IAAI,CAACA,IAAL,CAAUC,OAAhB,CADK;AAEbtB,YAAAA,aAAa,EAAEqB,IAAI,CAACrB;AAFP,WAAd;AAIA,SALD;AAMA,OAXD;AAYA;;;WAqCD,kBAAS;AAAA;;AACR,wBAAuD,KAAKL,KAA5D;AAAA,UAAQgD,CAAR,eAAQA,CAAR;AAAA,UAAWC,WAAX,eAAWA,WAAX;AAAA,UAAwBC,YAAxB,eAAwBA,YAAxB;AAAA,UAAsCC,IAAtC,eAAsCA,IAAtC;AAAA,UAA4CC,MAA5C,eAA4CA,MAA5C;AACA,wBAA4B,KAAKlD,KAAjC;AAAA,UAAMQ,OAAN,eAAMA,OAAN;AAAA,UAAeJ,QAAf,eAAeA,QAAf;AACA,UAAI+C,OAAO,GAAG,CACb;AACCN,QAAAA,KAAK,EAAEC,CAAC,CAAC,gBAAD,CADT;AAECM,QAAAA,KAAK,EAAE,QAFR;AAGCC,QAAAA,KAAK,EAAE,MAHR;AAICC,QAAAA,MAAM,EAAE,gBAAAC,OAAO;AAAA,8BACd,oBAAC,KAAD;AACC,YAAA,EAAE,iBAAUA,OAAO,CAAC5B,EAAlB,CADH;AAEC,YAAA,IAAI,EAAC,aAFN;AAGC,YAAA,KAAK,EAAE4B,OAAO,CAAC5B,EAHhB;AAIC,YAAA,OAAO,EAAE,MAAI,CAAC3B,KAAL,CAAW4B,aAAX,KAA6B2B,OAAO,CAAC5B,EAJ/C;AAKC,YAAA,OAAO,EAAE,iBAAAZ,KAAK;AAAA,qBAAI,MAAI,CAACW,WAAL,CAAiBX,KAAjB,EAAwBwC,OAAxB,CAAJ;AAAA,aALf;AAMC,YAAA,QAAQ,EAAEA,OAAO,CAAC5B,EAAR,KAAeuB,MAN1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADc;AAAA;AAJhB,OADa,EAgBb;AACCL,QAAAA,KAAK,EAAEC,CAAC,CAAC,eAAD,CADT;AAECM,QAAAA,KAAK,EAAE,MAFR;AAGCC,QAAAA,KAAK,EAAE,MAHR;AAICG,QAAAA,KAAK,EAAE;AAJR,OAhBa,EAsBb;AAAEX,QAAAA,KAAK,EAAEC,CAAC,CAAC,gBAAD,CAAV;AAA8BM,QAAAA,KAAK,EAAE,OAArC;AAA8CI,QAAAA,KAAK,EAAE;AAArD,OAtBa,CAAd;AAyBA,0BACC,oBAAC,MAAD;AACC,QAAA,OAAO,EAAET,WADV;AAEC,QAAA,IAAI,EAAEE,IAFP;AAGC,QAAA,cAAc,EAAEpD,cAHjB;AAIC,QAAA,QAAQ,EAAE,IAJX;AAKC,QAAA,SAAS,MALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOC,oBAAC,WAAD;AACC,QAAA,KAAK,EAAE;AAAE4D,UAAAA,MAAM,EAAE;AAAV,SADR;AAEC,QAAA,EAAE,EAAC,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAIC;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEX,CAAC,CAAC,yBAAD,CADH,CAJD,CAPD,eAeC,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAmB,QAAA,EAAE,EAAE,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,SAAD;AACC,QAAA,KAAK,EAAEA,CAAC,CAAC,qBAAD,CADT;AAEC,QAAA,IAAI,EAAC,MAFN;AAGC,QAAA,IAAI,EAAC,SAHN;AAIC,QAAA,KAAK,EAAEtC,OAJR;AAKC,QAAA,QAAQ,EAAE,KAAKyB,YALhB;AAMC,QAAA,SAAS,EAAE,KAAKJ,wBANjB;AAOC,QAAA,EAAE,EAAC,YAPJ;AAQC,QAAA,SAAS,EAAC,OARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADD,eAaC,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,aAAD;AACC,QAAA,IAAI,EAAEzB,QADP;AAEC,QAAA,OAAO,EAAE+C,OAFV;AAGC,QAAA,UAAU,EAAE,oBAACO,GAAD,EAAMlB,WAAN;AAAA,iBACX,MAAI,CAACD,UAAL,CAAgBC,WAAhB,CADW;AAAA,SAHb;AAMC,QAAA,eAAe,EAAE,yBAACmB,GAAD,EAAMC,IAAN;AAAA,iBAChBA,IAAI,CAACC,IAAL,CAAU,UAAAC,CAAC;AAAA;;AAAA,mBAAIA,CAAC,CAACnC,EAAF,qBAASgC,GAAG,CAACI,MAAb,gDAAS,YAAYpC,EAArB,CAAJ;AAAA,WAAX,CADgB;AAAA,SANlB;AASC,QAAA,OAAO,EAAE;AACRqC,UAAAA,OAAO,EAAE,KADD;AAERC,UAAAA,SAAS,EAAE,KAFH;AAGRC,UAAAA,kBAAkB,EAAE,CAAC,CAHb;AAIRC,UAAAA,MAAM,EAAE,KAJA;AAKRnC,UAAAA,MAAM,EAAE;AALA,SATV;AAgBC,QAAA,iBAAiB,EAAE,2BAAA4B,IAAI,EAAI;AAC1B,UAAA,MAAI,CAACpC,IAAL,GAAYoC,IAAZ;AACA,SAlBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,eAqBC,oBAAC,eAAD;AACC,QAAA,KAAK,EAAC,MADP;AAEC,QAAA,SAAS,EAAC,OAFX;AAGC,QAAA,kBAAkB,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,EAAb,EAAiB,EAAjB,CAHrB;AAIC,QAAA,SAAS,EAAC,KAJX;AAKC,QAAA,IAAI,EAAE,KAAK5D,KAAL,CAAWE,IALlB;AAMC,QAAA,WAAW,EAAE,KAAKF,KAAL,CAAWC,WANzB;AAOC,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWG,aAPnB;AAQC,QAAA,gBAAgB,EAAE2C,CAAC,CAAC,uBAAD,CARpB;AASC,QAAA,kBAAkB,EAAE;AAAA,cAAGsB,IAAH,SAAGA,IAAH;AAAA,cAASC,EAAT,SAASA,EAAT;AAAA,cAAaC,KAAb,SAAaA,KAAb;AAAA,2BAChBF,IADgB,cACRC,EADQ,cACFvB,CAAC,CAAC,YAAD,CADC,cAElBwB,KAAK,KAAK,CAAC,CAAX,GAAeA,KAAf,uBAAoCD,EAApC,CAFkB;AAAA,SATrB;AAcC,QAAA,mBAAmB,EAAE;AACpB,wBAAc;AADM,SAdtB;AAiBC,QAAA,mBAAmB,EAAE;AACpB,wBAAc;AADM,SAjBtB;AAoBC,QAAA,YAAY,EAAE,KAAKnD,gBApBpB;AAqBC,QAAA,mBAAmB,EAAE,KAAKJ,cArB3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBD,CAbD,CAfD,eA2EC,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,MAAD;AACC,QAAA,SAAS,EAAC,0BADX;AAEC,QAAA,OAAO,EAAC,WAFT;AAGC,QAAA,KAAK,EAAC,WAHP;AAIC,QAAA,OAAO,EAAE;AAAA,iBAAMiC,WAAW,EAAjB;AAAA,SAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMED,CAAC,CAAC,gBAAD,CANH,CADD,eASC,oBAAC,MAAD;AACC,QAAA,SAAS,EAAC,0BADX;AAEC,QAAA,OAAO,EAAC,WAFT;AAGC,QAAA,KAAK,EAAC,SAHP;AAIC,QAAA,OAAO,EAAE;AAAA,iBAAME,YAAY,CAAC,MAAI,CAAChD,KAAL,CAAWO,YAAZ,CAAlB;AAAA,SAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMEuC,CAAC,CAAC,gBAAD,CANH,CATD,CA3ED,CADD;AAgGA;;;;EArP8BpD,KAAK,CAAC6E,S;;AAuPtC,eAAexE,iBAAf","sourcesContent":["import {\r\n\tButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tGrid,\r\n\tPaper,\r\n\tRadio,\r\n\tTablePagination,\r\n\tTextField,\r\n} from \"@material-ui/core\";\r\nimport MaterialTable from \"material-table\";\r\nimport React from \"react\";\r\nimport Draggable from \"react-draggable\";\r\nimport { searchByPage } from \"./CategoryService\";\r\n\r\nfunction PaperComponent(props) {\r\n\treturn (\r\n\t\t<Draggable\r\n\t\t\thandle=\"#draggable-dialog-title\"\r\n\t\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\r\n\t\t>\r\n\t\t\t<Paper {...props} />\r\n\t\t</Draggable>\r\n\t);\r\n}\r\n\r\nclass SelectParentPopup extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n\tstate = {\r\n\t\trowsPerPage: 5,\r\n\t\tpage: 0,\r\n\t\ttotalElements: 0,\r\n\t\titemList: [],\r\n\t\tshouldOpenEditorDialog: false,\r\n\t\tshouldOpenConfirmationDialog: false,\r\n\t\tselectedItem: {},\r\n\t\tkeyword: \"\",\r\n\t\tshouldOpenProductDialog: false,\r\n\t\titem: null,\r\n\t};\r\n\r\n\tsetPage = page => {\r\n\t\tthis.setState({ page }, function () {\r\n\t\t\tthis.updatePageData();\r\n\t\t});\r\n\t};\r\n\r\n\tsetRowsPerPage = event => {\r\n\t\tthis.setState(\r\n\t\t\t{ rowsPerPage: event.target.value, page: 0 },\r\n\t\t\tfunction () {\r\n\t\t\t\tthis.updatePageData();\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\thandleChangePage = (event, newPage) => {\r\n\t\tthis.setPage(newPage);\r\n\t};\r\n\r\n\tupdatePageData = () => {\r\n\t\tvar searchObject = {};\r\n\t\tsearchObject.keyword = this.state.keyword;\r\n\t\tsearchObject.pageIndex = this.state.page + 1;\r\n\t\tsearchObject.pageSize = this.state.rowsPerPage;\r\n\t\tsearchByPage(searchObject).then(({ data }) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\titemList: data.content,\r\n\t\t\t\ttotalElements: data.totalElements,\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updatePageData();\r\n\t\tlet { selectedItem } = this.props;\r\n\t\tthis.setState({ selectedValue: selectedItem.id });\r\n\t}\r\n\r\n\thandleClick = (event, item) => {\r\n\t\tif (item.id != null) {\r\n\t\t\tthis.setState({ selectedValue: item.id, selectedItem: item });\r\n\t\t} else {\r\n\t\t\tthis.setState({ selectedValue: null, selectedItem: null });\r\n\t\t}\r\n\t};\r\n\r\n\thandleKeyDownEnterSearch = e => {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\tthis.search();\r\n\t\t}\r\n\t};\r\n\r\n\tsearch() {\r\n\t\tthis.setPage(0, function () {\r\n\t\t\tvar searchObject = {};\r\n\t\t\tsearchObject.title = this.state.keyword;\r\n\t\t\tsearchObject.pageIndex = this.state.page;\r\n\t\t\tsearchObject.pageSize = this.state.rowsPerPage;\r\n\t\t\tsearchByPage(searchObject).then(({ data }) => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titemList: [...data.data.content],\r\n\t\t\t\t\ttotalElements: data.totalElements,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\thandleChange = event => {\r\n\t\tevent.persist();\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\t[event.target.name]: event.target.value,\r\n\t\t\t},\r\n\t\t\tfunction () {\r\n\t\t\t\tthis.search();\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\thandleOpenProductDialog = () => {\r\n\t\tthis.setState({\r\n\t\t\tshouldOpenProductDialog: true,\r\n\t\t});\r\n\t};\r\n\r\n\thandleDialogProductClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshouldOpenProductDialog: false,\r\n\t\t});\r\n\t};\r\n\r\n\thandleOKEditClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tshouldOpenProductDialog: false,\r\n\t\t});\r\n\t\tthis.updatePageData();\r\n\t};\r\n\r\n\tonClickRow = selectedRow => {\r\n\t\tdocument.querySelector(`#radio${selectedRow.id}`).click();\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { t, handleClose, handleSelect, open, itemId } = this.props;\r\n\t\tlet { keyword, itemList } = this.state;\r\n\t\tlet columns = [\r\n\t\t\t{\r\n\t\t\t\ttitle: t(\"general.select\"),\r\n\t\t\t\tfield: \"custom\",\r\n\t\t\t\talign: \"left\",\r\n\t\t\t\trender: rowData => (\r\n\t\t\t\t\t<Radio\r\n\t\t\t\t\t\tid={`radio${rowData.id}`}\r\n\t\t\t\t\t\tname=\"radSelected\"\r\n\t\t\t\t\t\tvalue={rowData.id}\r\n\t\t\t\t\t\tchecked={this.state.selectedValue === rowData.id}\r\n\t\t\t\t\t\tonClick={event => this.handleClick(event, rowData)}\r\n\t\t\t\t\t\tdisabled={rowData.id === itemId}\r\n\t\t\t\t\t/>\r\n\t\t\t\t),\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttitle: t(\"category.code\"),\r\n\t\t\t\tfield: \"code\",\r\n\t\t\t\talign: \"left\",\r\n\t\t\t\twidth: \"150\",\r\n\t\t\t},\r\n\t\t\t{ title: t(\"category.title\"), field: \"title\", width: \"150\" },\r\n\t\t];\r\n\r\n\t\treturn (\r\n\t\t\t<Dialog\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\topen={open}\r\n\t\t\t\tPaperComponent={PaperComponent}\r\n\t\t\t\tmaxWidth={\"md\"}\r\n\t\t\t\tfullWidth\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle\r\n\t\t\t\t\tstyle={{ cursor: \"move\" }}\r\n\t\t\t\t\tid=\"draggable-dialog-title\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"mb-20\">\r\n\t\t\t\t\t\t{t(\"component.product.title\")}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<Grid item xs={12} sm={4}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tlabel={t(\"general.enterSearch\")}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"keyword\"\r\n\t\t\t\t\t\t\tvalue={keyword}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tonKeyDown={this.handleKeyDownEnterSearch}\r\n\t\t\t\t\t\t\tid=\"search_box\"\r\n\t\t\t\t\t\t\tclassName=\"mb-16\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<MaterialTable\r\n\t\t\t\t\t\t\tdata={itemList}\r\n\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\tonRowClick={(evt, selectedRow) =>\r\n\t\t\t\t\t\t\t\tthis.onClickRow(selectedRow)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tparentChildData={(row, rows) =>\r\n\t\t\t\t\t\t\t\trows.find(a => a.id === row.parent?.id)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t\ttoolbar: false,\r\n\t\t\t\t\t\t\t\tselection: false,\r\n\t\t\t\t\t\t\t\tactionsColumnIndex: -1,\r\n\t\t\t\t\t\t\t\tpaging: false,\r\n\t\t\t\t\t\t\t\tsearch: false,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonSelectionChange={rows => {\r\n\t\t\t\t\t\t\t\tthis.data = rows;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TablePagination\r\n\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\tclassName=\"px-16\"\r\n\t\t\t\t\t\t\trowsPerPageOptions={[1, 2, 3, 5, 10, 25]}\r\n\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\tpage={this.state.page}\r\n\t\t\t\t\t\t\trowsPerPage={this.state.rowsPerPage}\r\n\t\t\t\t\t\t\tcount={this.state.totalElements}\r\n\t\t\t\t\t\t\tlabelRowsPerPage={t(\"general.rows_per_page\")}\r\n\t\t\t\t\t\t\tlabelDisplayedRows={({ from, to, count }) =>\r\n\t\t\t\t\t\t\t\t`${from}-${to} ${t(\"general.of\")} ${\r\n\t\t\t\t\t\t\t\t\tcount !== -1 ? count : `more than ${to}`\r\n\t\t\t\t\t\t\t\t}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbackIconButtonProps={{\r\n\t\t\t\t\t\t\t\t\"aria-label\": \"Previous Page\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tnextIconButtonProps={{\r\n\t\t\t\t\t\t\t\t\"aria-label\": \"Next Page\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonPageChange={this.handleChangePage}\r\n\t\t\t\t\t\t\tonRowsPerPageChange={this.setRowsPerPage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</DialogContent>\r\n\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mb-16 mr-36 align-bottom\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tonClick={() => handleClose()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t(\"general.cancel\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mb-16 mr-16 align-bottom\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => handleSelect(this.state.selectedItem)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t(\"general.select\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\nexport default SelectParentPopup;\r\n"]},"metadata":{},"sourceType":"module"}